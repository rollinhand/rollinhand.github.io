<!-- HTML5 HEADER WITH NAVIGATION -->
<!DOCTYPE html>
<html lang="de">
<head>
  <!-- HTML metadata and includes -->
  <!-- Header information like meta information and script resources -->
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">

  <link rel="icon" href="../../../../../images/favicon.png" type="image/png">
  <link rel="shortcut icon" href="../../../../../images/favicon.png" type="image/png">

  <!-- Stylesheets -->
  <link href="../../../../../css/styles.css" rel="stylesheet" type="text/css">
  <link href="../../../../../css/github.css" rel="stylesheet" type="text/css">
  <!-- Bootstrap icons-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Feeds -->
  <link rel="alternate" type="application/atom+xml" title="Atom" href="../../../../../feed.xml" />

  <!-- Load Highlight.js -->
  <script src="../../../../../js/highlight.pack.js"></script>
  <title>Fehlerbehebung im Glassfish-Server</title>
</head>
<body class="d-flex flex-column h-100">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
      <a class="navbar-brand" href="../../../../../index.html"><img class="logo" src="../../../../../images/kivio-white.png" alt="Logo"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mb-2 mx-1 mb-lg-0">
            <li class="nav-item mx-1 ">
              <a class="nav-link " href="../../../../../category/allgemein/index.html">Allgemein</a>
            </li>
            <li class="nav-item mx-1 ">
              <a class="nav-link " href="../../../../../category/devops/index.html">DevOps</a>
            </li>
            <li class="nav-item mx-1 ">
              <a class="nav-link " href="../../../../../category/entwicklung/index.html">Entwicklung</a>
            </li>
            <li class="nav-item mx-1 ">
              <a class="nav-link " href="../../../../../category/technologie/index.html">Technologie</a>
            </li>
        </ul>
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
<a href="../../../../../about/index.html">
    <img class="avatar avatar-small" alt="rollinhand" width="40" height="40" data-proofer-ignore="true"
         src="https://avatars2.githubusercontent.com/rollinhand?v=3&s=40"
         srcset="https://avatars2.githubusercontent.com/rollinhand?v=3&s=40 1x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=80 2x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=120 3x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=160 4x"/></a>        </ul>
      </div>
    </div>
  </nav>
<main class="flex-shrink-0">
	<!-- Page Content-->
	<section class="py-5">
		<div class="container px-5 my-5">
			<div class="row gx-5">
				<div class="col-lg-3">
					<div class="d-flex align-items-center mt-lg-5 mb-4">
<a href="../../../../../about/index.html">
    <img class="avatar avatar-small" alt="rollinhand" width="40" height="40" data-proofer-ignore="true"
         src="https://avatars2.githubusercontent.com/rollinhand?v=3&s=40"
         srcset="https://avatars2.githubusercontent.com/rollinhand?v=3&s=40 1x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=80 2x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=120 3x, https://avatars2.githubusercontent.com/rollinhand?v=3&s=160 4x"/></a>						<div class="small ms-3">
							<div class="fw-bold">Björn Berg</div>
						</div>
					</div>
					<!-- Hinweis auf fremden Blog-Artikel -->
				</div>
				<div class="col-lg-9">
					<!-- Post content-->
					<article>
						<!-- Post header-->
						<header class="mb-4">
							<!-- Post title-->
							<h1 class="fw-bolder mb-1">Fehlerbehebung im Glassfish-Server</h1>
							<!-- Post meta content-->
							<div class="text-muted fst-italic mb-2">31.03.2016</div>
							<!-- Post categories-->
								<a class="badge bg-primary text-decoration-none link-light" href="/category/entwicklung">Entwicklung</a>
							<!-- Post tags -->
						</header>
						<!-- Post content-->
						<section class="mb-5">
							<p>Kryptische Fehlermeldungen bei der Entwicklung von Webanwendungen auf dem Glassfish-Server sind nicht immer einfach zu entschlüsseln und deren Ursache zu beheben. Dieser Artikel geht auf einige häufige Fehler, deren Ursachen und die Behebung ein.</p>
<!--more--> 
<p>Werden Web-Anwendungen mit dem Glassfish-Server 3.2.X entwickelt, so lassen sich diese mit den entsprechenden Tools (z. B. Glassfish-Tools für Eclipse) relativ schnell und einfach immer wieder neu auf dem Entwicklungsserver publizieren.</p>
<p>Allerdings machen Entwickler Fehler, die wiederum zu einem fehlerhaften Deployment führen können. Solche Fehler verzeiht der Glassfish-Server nicht immer und es kommt zu kryptischen Fehlermeldungen, deren Beseitigung einige Zeit in Anspruch nehmen kann - vorausgesetzt es ist nicht bekannt, an welchen Stellen zu suchen ist.</p>
<p>In diesem Artikel stelle ich einige der kryptischen Meldungen und deren häufigste Ursache vor. Damit einhergehend wird auch die Lösung erläutert. Die Beispiele beziehen sich auf die Entwicklung mit Eclipse und den Glassfish-Tools.</p>
<h3>Nachträgliches Ändern einer Managed Bean</h3>
<p>Wird der Scope einer Managed Bean (@Named) nachträglich vom Request Scope zum Session Scope geändert, so muss das Interface <em>Serializable</em> implementiert werden. Wird dies vergessen, so wird das Deployment der Managed Bean durch WELD verhindert und eine Fehlermeldung ausgegeben.</p>
<p>Mit einer einfachen Korrektur und dem erneuten Deployment ist es anschließend nicht getan. Der Glassfish-Server verhindert das Deployment mit einer Exception:</p>
<p><code>com.sun.enterprise.container.common.spi.util.InjectionException=Fehler beim Erstellen des verwalteten Objekts für Klasse=class org.jboss.weld.servlet.WeldListener</code></p>
<p>Abhilfe kann hier geschaffen werden, indem der Glassfish-Server gestoppt und das Deployment-Verzeichnis bereinigt wird. Untrügliche Anzeichen für ein fehlgeschlagenes Deployment ist ein Verzeichnis beginnend mit dem Namen <strong>_xfer</strong>.</p>
<h3>Deployment einer Webanwendung (WAR) schlägt fehl</h3>
<p>In diesem Szenario schlägt das Hot Deployment einer Webanwendung innerhalb von Eclipse mittels Publish (Strg+Alt+P) fehl. Das Glassfish-Logfile meldet, dass das Webarchiv (WAR) noch vorhanden ist.</p>
<p>Betrachtet man das Applikationsverzeichnis auf dem lokalen Glassfish-Server unter <code>$DOMAINDIR/applications/$meine-app</code> so befindet sich dort eine Datei mit der Bezeichnung <strong>.staleFiles</strong>.</p>
<p>In dieser Datei sind Dateien und Verzeichnisse gelistet, die nicht automatisch vom Glassfish undeployt werden konnten. Bei einem Redeployment der Anwendung über die Glassfish-Tools wird in der Regel die Anwendung vollständig inkl. aller abhängigen Bibliotheken entfernt.</p>
<p>Damit das Deployment wieder lauffähig ist, kann nur Abhilfe durch Stoppen des Glassfish-Servers und manuellem Löschen der Anwendung geschaffen werden.</p>
<p>Damit das Deployment wiederholt erfolgreich funktioniert, ist zu prüfen, ob zusätzlich dem Projekt hinzugefügte Bibliotheken nicht entfernt werden konnten. Ist das WAR Teil einer Enterprise-Applikation (EAR), dann gehören die Bibliotheken in das lib-Verzeichnis des EAR und nicht in das WAR. Ansonsten kann der Glassfish-Server die abhängigen Bibliotheken nicht entfernen.</p>
<h3>CommandException während des Deployments</h3>
<p>Eine Fehlermeldung, die mir bisher nur in Verbindung mit Eclipse und den Glassfish-Tools untergekommen ist, ist die CommandException. Während des ersten oder eines erneuten Deployment erscheint die Meldung:</p>
<p><code>org.glassfish.tools.ide.admin.CommandException=Can not read HTTP response, caught IOException Schwerwiegend=EJB-Modul kann nicht geladen werden. DeploymentContext enthält kein EJB.</code></p>
<p>Meine Projekte baue ich meist mit Maven. Erscheint diese Meldung beim Deployment innerhalb der Eclipse nach einer Änderung an der pom.xml, so ist das Eclipse-Projekt nicht mehr korrekt synchronisiert. Abhilfe schafft hier in einem Großteil der Fälle die Option <em>Maven &gt; Update Project</em> (Alt + F5).</p>
<p>Sie befindet sich im Kontextmenü des Projekts.</p>

						</section>
					</article>
					<section>
						<div class="card bg-light">
							<div class="card-body">
								<h5><i class="fa fa-comment"></i> Kommentar</h5>

								<div class="mt-3">
									<p>Du möchtest diskutieren oder einen Kommentar zu dem Beitrag hinterlassen?</p>
									<small class="text-muted">Dieser Blog hat keine öffentliche Kommentarfunktion, aber ich freue mich jederzeit über eine
										<a href="mailto:rollin.hand@gmx.de">Mail</a> mit kritischen Anmerkungen, Feedback oder auch einfach nur
										Lob an meine Mail-Adresse <a href="mailto:rollin.hand@gmx.de">rollin.hand[@]gmx.de</a>.</small>
								</div>
							</div>
						</div>
					</section>
				</div>
			</div>
		</div>
	</section>
</main>
<!-- HTML5 FOOTER -->
<footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto">
                <div class="small m-0 text-white">Copyright &copy; 2017 - 2025 by Björn Berg (Last update: 2025-02-17)</div>
            </div>
            <div class="col-auto">
                <a class="link-light small" href="../../../../../blog/meecrowave.html">Apache Meecrowave</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="../../../../../privacy-policy/index.html">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="../../../../../about/index.html">Imprint</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="mailto:rollin.hand@gmx.de">Contact</a>
            </div>
            <div class="col-auto">
                <a class="link-light text-decoration-none mx-1 small" href="https://www.xing.com/profile/Bjoern_Berg2" target="_blank" rel="me">
                    <span class="button xing" aria-details="Xing"><i class="fab fa-xing"></i></span>
                </a>
                <a class="link-light text-decoration-none mx-1 small" href="https://www.linkedin.com/in/bjoernberg82" target="_blank" rel="me">
                    <span class="button linkedin" aria-details="LinkedIn"><i class="fab fa-linkedin"></i></span>
                </a>
                <a class="link-light text-decoration-none mx-1 small" href="../../../../../feed.xml">
                    <span class="button atom" aria-details="Atom/RSS"><i class="fas fa-rss subscribe"></i></span>
                </a>
            </div>
        </div>
    </div>
</footer>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>